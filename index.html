<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kelime UygulamasÄ± - C16 GÃ¼ncel</title>
    <style>
        /* --- TEMEL AYARLAR --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body { 
            margin: 0; padding: 0; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background-color: #2c3e50; 
            color: white; 
            width: 100%;
            height: 100vh; 
            height: 100dvh; 
            overflow: hidden; 
        }

        .app-container { 
            width: 100%; 
            max-width: 600px; 
            margin: 0 auto; 
            background-color: #4a6a7a; 
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        /* --- BAÅLIK VE SEKMELER (SABÄ°T) --- */
        .fixed-header-group {
            flex-shrink: 0; 
            background-color: #354f5c;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            z-index: 10;
        }

        header.home-header { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 15px 20px; 
            height: 60px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .app-title { font-size: 18px; font-weight: bold; }
        .profile-pic { width: 36px; height: 36px; background-color: #f3d290; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 20px; }
        
        /* TABS */
        .tabs { 
            display: flex; 
            overflow-x: auto; 
            white-space: nowrap; 
            padding: 0; 
            height: 50px; 
            align-items: center;
            scrollbar-width: none; 
        }
        .tabs::-webkit-scrollbar { display: none; }
        
        .tab { 
            padding: 0 20px; 
            height: 100%;
            display: flex; align-items: center;
            color: #bdc3c7; 
            font-weight: bold; font-size: 14px; 
            position: relative; cursor: pointer;
            flex-shrink: 0;
            transition: color 0.3s;
        }
        .tab.active { color: #f1c40f; background-color: rgba(255,255,255,0.05); }
        .tab.active::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 4px; background-color: #f1c40f; }

        /* --- Ä°Ã‡ERÄ°K ALANI --- */
        .content-area { 
            flex-grow: 1;
            overflow-y: auto; 
            padding: 15px;
            padding-bottom: 80px;
            -webkit-overflow-scrolling: touch;
        }

        /* KART TASARIMI */
        .level-card { 
            background-color: #3e5c6a; 
            border: 2px solid #d4a35a; 
            border-radius: 12px; 
            display: flex; align-items: center; justify-content: space-between;
            padding: 20px; margin-bottom: 15px; 
            cursor: pointer; 
            position: relative;
            transition: transform 0.1s;
        }
        .level-card:active { transform: scale(0.98); background-color: #354f5c; }
        
        .level-icon { font-size: 24px; margin-right: 15px; pointer-events: none; }
        .level-info { font-size: 16px; font-weight: bold; pointer-events: none; }
        .level-progress { color: #ecf0f1; font-size: 13px; opacity: 0.8; pointer-events: none; }

        /* FORM VE BUTONLAR */
        .add-word-container, .backup-container { 
            background-color: #3e5c6a; padding: 15px; 
            border-radius: 15px; margin-bottom: 20px; 
            border: 1px solid #f1c40f;
        }
        .backup-container { border-color: #3498db; border-style: dashed; }
        
        .form-select, .form-textarea { width: 100%; padding: 12px; background-color: #2c3e50; border: 1px solid #546e7a; border-radius: 10px; color: white; margin-bottom: 10px; font-size: 16px; }
        .save-btn, .backup-btn { width: 100%; padding: 14px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; color: white; font-size: 16px; }
        .save-btn { background-color: #f1c40f; color: #1a1a1a; }
        .backup-btn { width: 48%; }
        .btn-download { background-color: #27ae60; }
        .btn-upload { background-color: #3498db; }

        /* --- TEST EKRANI --- */
        #quiz-screen { 
            display: none; 
            flex-direction: column; 
            position: fixed; 
            top: 0; left: 0; right: 0; bottom: 0; 
            background-color: #1a1a1a; 
            z-index: 9999; 
            padding: 20px;
        }
        
        .quiz-header { display: flex; justify-content: space-between; align-items: center; height: 50px; margin-bottom: 20px; }
        .close-btn { font-size: 32px; color: #e74c3c; cursor: pointer; padding: 10px; font-weight: bold; }

        .progress-container { display: flex; align-items: center; gap: 10px; margin-bottom: 30px; }
        .progress-track { flex-grow: 1; height: 8px; background-color: #333; border-radius: 4px; overflow: hidden; }
        #progress-fill { width: 0%; height: 100%; background-color: #3498db; transition: width 0.3s; }
        
        .quiz-content { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .word-to-solve { font-size: 32px; font-weight: 800; margin-bottom: 40px; color: #fff; text-align: center; }
        .options { width: 100%; display: flex; flex-direction: column; gap: 12px; }
        .option-btn { background-color: #333; border: none; color: #ecf0f1; padding: 18px; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; transition: background-color 0.2s; }
        .option-btn.correct { background-color: #27ae60; color: white; }
        .option-btn.wrong { background-color: #e74c3c; color: white; }
        .option-btn:disabled { cursor: default; }

        /* SONUÃ‡ EKRANI */
        #result-screen { display: none; flex-direction: column; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(26,26,26,0.98); z-index: 10000; }
        .result-card { background-color: #3e5c6a; width: 85%; max-width: 400px; padding: 30px; border-radius: 20px; text-align: center; border: 2px solid #d4a35a; }
        .score-circle { width: 120px; height: 120px; border-radius: 50%; background: conic-gradient(#f1c40f 0% 0%, #333 0% 100%); margin: 0 auto 20px auto; display: flex; align-items: center; justify-content: center; font-size: 28px; font-weight: bold; position: relative; }
        .score-circle::before { content: ""; position: absolute; width: 95px; height: 95px; background-color: #3e5c6a; border-radius: 50%; }
        .score-text { position: relative; z-index: 2; }
        .home-btn { background-color: #f1c40f; color: #1a1a1a; border: none; padding: 15px 40px; border-radius: 30px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 20px; }
        
        #file-input { display: none; }
        #success-overlay { display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 120px; height: 120px; background-color: #27ae60; border-radius: 20px; justify-content: center; align-items: center; z-index: 10001; }
        .checkmark { width: 30px; height: 60px; border-bottom: 8px solid white; border-right: 8px solid white; transform: rotate(45deg); margin-top: -10px; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="fixed-header-group">
        <header class="home-header">
            <div style="font-size:24px;">âš™ï¸</div>
            <div class="app-title" id="app-header-title">C - Seviyesi</div>
            <div class="profile-pic">ğŸ‘¨ğŸ»â€ğŸ’¼</div>
        </header>

        <div class="tabs">
            <div class="tab" onclick="switchTab('YDS', this)">YDS</div>
            <div class="tab" onclick="switchTab('H', this)">HABER</div>
            <div class="tab" onclick="switchTab('B2', this)">B2</div>
            <div class="tab" onclick="switchTab('B1', this)">B1</div>
            <div class="tab active" onclick="switchTab('C', this)">C</div>
            <div class="tab" onclick="switchTab('ADD', this)">â• EKLE</div>
        </div>
    </div>

    <div class="content-area" id="content-container"></div>

    <div id="quiz-screen">
        <header class="quiz-header">
            <div class="close-btn" onclick="quitQuiz()">âœ•</div>
            <div style="font-weight:bold; color:white;">Kelime Testi</div>
            <div style="width:30px;"></div>
        </header>
        <div class="progress-container">
            <div class="progress-track"><div id="progress-fill"></div></div>
            <div style="color:#3498db; font-weight:bold; font-size:14px;" id="progress-text">1/20</div>
        </div>
        <div class="quiz-content">
            <div style="font-size:40px; margin-bottom:20px;">ğŸ”Š</div>
            <div class="word-to-solve" id="target-word">...</div>
            <div class="options" id="options-container"></div>
        </div>
        <div id="success-overlay"><div class="checkmark"></div></div>
    </div>

    <div id="result-screen">
        <div class="result-card">
            <div style="font-size:24px; font-weight:bold; margin-bottom:10px;">TamamlandÄ±!</div>
            <div class="score-circle" id="score-circle"><span class="score-text" id="final-score">0</span></div>
            <button class="home-btn" onclick="closeResultScreen()">Ana Sayfaya DÃ¶n</button>
        </div>
    </div>
</div>

<input type="file" id="file-input" accept=".json" onchange="importBackup(this)">

<script>
    /* ================= VERÄ°LER ================= */
    const fixedData = { "YDS": {}, "H": {}, "B2": {}, "B1": {}, "C": {} };
    
    // C Seviyesi VeritabanÄ±
    fixedData["C"][1] = [{en:"Abandon", tr:"Terk etmek"}, {en:"Abolish", tr:"YÃ¼rÃ¼rlÃ¼kten kaldÄ±rmak"}, {en:"Accomplish", tr:"BaÅŸarmak"}, {en:"Accumulate", tr:"Biriktirmek"}, {en:"Acquire", tr:"Edinmek"}, {en:"Adopt", tr:"Benimsemek"}, {en:"Advocate", tr:"Savunmak"}, {en:"Alleviate", tr:"Hafifletmek"}, {en:"Alter", tr:"DeÄŸiÅŸtirmek"}, {en:"Ambiguity", tr:"Belirsizlik"}, {en:"Assess", tr:"DeÄŸerlendirmek"}, {en:"Benefit", tr:"Fayda"}, {en:"Boost", tr:"ArtÄ±rmak"}, {en:"Coincide", tr:"Rastlamak"}, {en:"Compensate", tr:"Telafi etmek"}, {en:"Comprise", tr:"OluÅŸmak"}, {en:"Conceal", tr:"Gizlemek"}, {en:"Conduct", tr:"YÃ¼rÃ¼tmek"}, {en:"Confine", tr:"SÄ±nÄ±rlandÄ±rmak"}, {en:"Cope with", tr:"BaÅŸa Ã§Ä±kmak"}];
    fixedData["C"][2] = [{en:"Debate", tr:"TartÄ±ÅŸmak"}, {en:"Decade", tr:"On yÄ±l"}, {en:"Decay", tr:"Ã‡Ã¼rÃ¼mek"}, {en:"Deceive", tr:"Aldatmak"}, {en:"Declare", tr:"Ä°lan etmek"}, {en:"Decline", tr:"Reddetmek"}, {en:"Dedicate", tr:"Adamak"}, {en:"Deduce", tr:"SonuÃ§ Ã§Ä±karmak"}, {en:"Defect", tr:"Kusur"}, {en:"Defend", tr:"Savunmak"}, {en:"Defer", tr:"Ertelemek"}, {en:"Deficiency", tr:"Eksiklik"}, {en:"Deficit", tr:"AÃ§Ä±k"}, {en:"Define", tr:"TanÄ±mlamak"}, {en:"Definite", tr:"Kesin"}, {en:"Delay", tr:"Gecikmek"}, {en:"Delicate", tr:"Hassas"}, {en:"Demonstrate", tr:"GÃ¶stermek"}, {en:"Denial", tr:"Ä°nkar"}, {en:"Denounce", tr:"KÄ±namak"}];
    fixedData["C"][3] = [{en:"Endeavour", tr:"Ã‡abalamak"},{en:"Endorse", tr:"Onaylamak"},{en:"Endure", tr:"Katlanmak"},{en:"Enforce", tr:"Uygulamak"},{en:"Engender", tr:"Neden olmak"},{en:"Enigmatic", tr:"Esrarengiz"},{en:"Enormous", tr:"Devasa"},{en:"Enrage", tr:"KÄ±zdÄ±rmak"},{en:"Ensuing", tr:"ArdÄ±ndan gelen"},{en:"Entail", tr:"Gerektirmek"},{en:"Ephemeral", tr:"KÄ±sa Ã¶mÃ¼rlÃ¼"},{en:"Epitome", tr:"Kusursuz Ã¶rnek"},{en:"Equivocal", tr:"Belirsiz"},{en:"Erroneous", tr:"HatalÄ±"},{en:"Erudite", tr:"Bilgin"},{en:"Escalate", tr:"TÄ±rmanmak"},{en:"Essential", tr:"Temel"},{en:"Establish", tr:"Kurmak"},{en:"Esteem", tr:"SaygÄ±"},{en:"Eternal", tr:"Sonsuz"}];
    fixedData["C"][4] = [{en:"Enable", tr:"Olanak saÄŸlamak"}, {en:"Ensure", tr:"SaÄŸlamak"}, {en:"Adversity", tr: "Zorluk"}, {en:"Aesthetic", tr: "Estetik"}, {en:"Altruism", tr: "FedakarlÄ±k"}, {en:"Ambivalent", tr: "KararsÄ±z"}, {en:"Amiable", tr: "Cana yakÄ±n"}, {en:"Anachronism", tr: "Tarihsel hata"}, {en:"Annihilate", tr: "Yok etmek"}, {en:"Anticipate", tr: "Ã–ngÃ¶rmek"}, {en:"Apprehensive", tr: "EndiÅŸeli"}, {en:"Arbitrary", tr: "Keyfi"}, {en:"Arduous", tr: "GÃ¼Ã§, Ã§etin"}, {en:"Articulate", tr: "Kendini iyi ifade eden"}, {en:"Ascertain", tr: "Saptamak"}, {en:"Astute", tr: "Zeki, kurnaz"}, {en:"Atrocity", tr: "VahÅŸet"}, {en:"Augment", tr: "ArtÄ±rmak"}, {en:"Austere", tr: "Sert, ciddi"}, {en:"Authentic", tr: "GerÃ§ek"}];
    fixedData["C"][5] = [{en:"Baffling", tr:"Kafa karÄ±ÅŸtÄ±rÄ±cÄ±"}, {en:"Benevolent", tr:"HayÄ±rsever"}, {en:"Benign", tr:"Ä°yi huylu"}, {en:"Bewilder", tr:"ÅaÅŸÄ±rtmak"}, {en:"Bias", tr:"Ã–nyargÄ±"}, {en:"Blatant", tr:"Bariz, apaÃ§Ä±k"}, {en:"Breach", tr:"Ä°hlal etmek"}, {en:"Brittle", tr:"KÄ±rÄ±lgan"}, {en:"Candid", tr:"Ä°Ã§ten, dÃ¼rÃ¼st"}, {en:"Capricious", tr:"DeÄŸiÅŸken"}, {en:"Casualty", tr:"Zayiat"}, {en:"Chronicle", tr:"Kaydetmek"}, {en:"Coherent", tr:"TutarlÄ±"}, {en:"Collaborate", tr:"Ä°ÅŸ birliÄŸi yapmak"}, {en:"Commence", tr:"BaÅŸlamak"}, {en:"Commend", tr:"Ã–vmek"}, {en:"Compelling", tr:"ZorlayÄ±cÄ±"}, {en:"Complacent", tr:"Halinden memnun"}, {en:"Complement", tr:"Tamamlamak"}, {en:"Compliance", tr:"Uyma, itaat"}];
    fixedData["C"][6] = [{en:"Concede", tr:"Ä°tiraf etmek"}, {en:"Concise", tr:"KÄ±sa ve Ã¶z"}, {en:"Condone", tr:"Affetmek"}, {en:"Conducive", tr:"Olanak saÄŸlayan"}, {en:"Confide", tr:"GÃ¼venmek"}, {en:"Congenial", tr:"Cana yakÄ±n"}, {en:"Connoisseur", tr:"Uzman"}, {en:"Consecutive", tr:"ArdÄ±ÅŸÄ±k"}, {en:"Consensus", tr:"Fikir birliÄŸi"}, {en:"Conspicuous", tr:"GÃ¶ze Ã§arpan"}, {en:"Constituent", tr:"BileÅŸen"}, {en:"Contemplate", tr:"DÃ¼ÅŸÃ¼nmek"}, {en:"Contempt", tr:"AÅŸaÄŸÄ±lama"}, {en:"Controversial", tr:"TartÄ±ÅŸmalÄ±"}, {en:"Conundrum", tr:"Muamma"}, {en:"Conventional", tr:"Geleneksel"}, {en:"Converge", tr:"BirleÅŸmek"}, {en:"Cordial", tr:"Samimi"}, {en:"Corroborate", tr:"DoÄŸrulamak"}, {en:"Counterfeit", tr:"Sahte"}];
    fixedData["C"][7] = [{en:"Crave", tr:"Ã‡ok istemek"}, {en:"Credible", tr:"GÃ¼venilir"}, {en:"Crucial", tr:"Kritik"}, {en:"Culminate", tr:"Zirveye ulaÅŸmak"}, {en:"Culpable", tr:"SuÃ§lu"}, {en:"Curb", tr:"Frenlemek"}, {en:"Curtail", tr:"Azaltmak"}, {en:"Cynical", tr:"AlaycÄ±"}, {en:"Dazzling", tr:"GÃ¶z kamaÅŸtÄ±rÄ±cÄ±"}, {en:"Debilitate", tr:"ZayÄ±flatmak"}, {en:"Decipher", tr:"Åifre Ã§Ã¶zmek"}, {en:"Dedicate", tr:"Adamak"}, {en:"Deem", tr:"Kabul etmek"}, {en:"Deficiency", tr:"Eksiklik"}, {en:"Deft", tr:"Becerikli"}, {en:"Deleterious", tr:"ZararlÄ±"}, {en:"Delineate", tr:"Betimlemek"}, {en:"Denounce", tr:"KÄ±namak"}, {en:"Depict", tr:"Tasvir etmek"}, {en:"Deplete", tr:"TÃ¼ketmek"}];
    fixedData["C"][8] = [{en:"Deplorable", tr:"Ä°Ã§ler acÄ±sÄ±"}, {en:"Deprive (of)", tr:"Yoksun bÄ±rakmak"}, {en:"Derive (from)", tr:"-den tÃ¼retmek"}, {en:"Desolate", tr:"IssÄ±z"}, {en:"Destitute", tr:"Yoksul"}, {en:"Deter", tr:"CaydÄ±rmak"}, {en:"Deviate", tr:"Sapmak"}, {en:"Devoid (of)", tr:"-den yoksun"}, {en:"Dextrous", tr:"Becerikli"}, {en:"Diffuse", tr:"Yaymak"}, {en:"Dignity", tr:"Ä°tibar"}, {en:"Diligent", tr:"Ã‡alÄ±ÅŸkan"}, {en:"Discern", tr:"AyÄ±rt etmek"}, {en:"Discrepancy", tr:"TutarsÄ±zlÄ±k"}, {en:"Disdain", tr:"KÃ¼Ã§Ã¼msemek"}, {en:"Disheartened", tr:"Cesareti kÄ±rÄ±lmÄ±ÅŸ"}, {en:"Disparate", tr:"Apandis"}, {en:"Disseminate", tr:"Yaymak"}, {en:"Divergent", tr:"FarklÄ±laÅŸan"}, {en:"Docile", tr:"Uysal"}];
    fixedData["C"][9] = [{en:"Drastic", tr:"Radikal"}, {en:"Dubious", tr:"ÅÃ¼pheli"}, {en:"Durable", tr:"DayanÄ±klÄ±"}, {en:"Dwell (on)", tr:"Ãœzerinde durmak"}, {en:"Eager", tr:"Hevesli"}, {en:"Eccentric", tr:"Tuhaf"}, {en:"Edible", tr:"Yenilebilir"}, {en:"Efficacy", tr:"Etkililik"}, {en:"Elaborate", tr:"AyrÄ±ntÄ±lÄ±"}, {en:"Eloquent", tr:"GÃ¼zel konuÅŸan"}, {en:"Elusive", tr:"KaÃ§amak"}, {en:"Emancipate", tr:"Ã–zgÃ¼r bÄ±rakmak"}, {en:"Embark (on)", tr:"BaÅŸlamak"}, {en:"Embody", tr:"Temsil etmek"}, {en:"Embrace", tr:"Benimsemek"}, {en:"Emerge", tr:"Ortaya Ã§Ä±kmak"}, {en:"Eminent", tr:"SeÃ§kin"}, {en:"Empirical", tr:"Deneysel"}, {en:"Emulate", tr:"Taklit etmek"}, {en:"Encompass", tr:"Kapsamak"}];
    fixedData["C"][10] = [{en:"Evade", tr:"KaÃ§Ä±nmak"}, {en:"Evaluate", tr:"DeÄŸerlendirmek"}, {en:"Evident", tr:"Besbelli"}, {en:"Evoke", tr:"UyandÄ±rmak"}, {en:"Exacerbate", tr:"KÃ¶tÃ¼leÅŸtirmek"}, {en:"Exceed", tr:"AÅŸmak"}, {en:"Excel", tr:"ÃœstÃ¼n olmak"}, {en:"Exert", tr:"Kullanmak"}, {en:"Exhaustive", tr:"KapsamlÄ±"}, {en:"Exhilarating", tr:"CanlandÄ±rÄ±cÄ±"}, {en:"Exile", tr:"SÃ¼rgÃ¼n"}, {en:"Exonerate", tr:"Aklamak"}, {en:"Exorbitant", tr:"FahiÅŸ"}, {en:"Expedite", tr:"HÄ±zlandÄ±rmak"}, {en:"Explicit", tr:"AÃ§Ä±k, net"}, {en:"Exploit", tr:"SÃ¶mÃ¼rmek"}, {en:"Ex exquisite", tr:"Harikulade"}, {en:"Extensive", tr:"GeniÅŸ"}, {en:"Extinguish", tr:"SÃ¶ndÃ¼rmek"}, {en:"Extol", tr:"Ã–vmek"}];
    fixedData["C"][11] = [{en:"Fabricate", tr:"Uydurmak"}, {en:"Facilitate", tr:"KolaylaÅŸtÄ±rmak"}, {en:"Fallacy", tr:"Safsata"}, {en:"Famine", tr:"KÄ±tlÄ±k"}, {en:"Feasible", tr:"Uygulanabilir"}, {en:"Feeble", tr:"GÃ¼Ã§sÃ¼z"}, {en:"Ferocious", tr:"VahÅŸi"}, {en:"Fervent", tr:"CoÅŸkulu"}, {en:"Fickle", tr:"KararsÄ±z"}, {en:"Flamboyant", tr:"GÃ¶steriÅŸli"}, {en:"Flaw", tr:"Kusur"}, {en:"Flee", tr:"KaÃ§mak"}, {en:"Flimsy", tr:"DayanÄ±ksÄ±z"}, {en:"Fluctuate", tr:"Dalgalanmak"}, {en:"Forbid", tr:"Yasaklamak"}, {en:"Foresee", tr:"Ã–ngÃ¶rmek"}, {en:"Formidable", tr:"ÃœrkÃ¼tÃ¼cÃ¼"}, {en:"Foster", tr:"TeÅŸvik etmek"}, {en:"Fragile", tr:"KÄ±rÄ±lgan"}, {en:"Frantic", tr:"TelaÅŸlÄ±"}];
    fixedData["C"][12] = [{en:"Frugal", tr:"Tutumlu"}, {en:"Frustrate", tr:"Hayal kÄ±rÄ±klÄ±ÄŸÄ±na uÄŸratmak"}, {en:"Fundamental", tr:"Temel"}, {en:"Futile", tr:"BoÅŸuna"}, {en:"Gaze", tr:"GÃ¶zÃ¼nÃ¼ dikip bakmak"}, {en:"Generate", tr:"Ãœretmek"}, {en:"Generic", tr:"Genel"}, {en:"Genuinely", tr:"Ä°Ã§tenlikle"}, {en:"Glare", tr:"Dik dik bakmak"}, {en:"Glimpse", tr:"GÃ¶z atmak"}, {en:"Gloomy", tr:"Kasvetli"}, {en:"Gorgeous", tr:"MuhteÅŸem"}, {en:"Graceful", tr:"Zarif"}, {en:"Gradual", tr:"Kademeli"}, {en:"Grandiose", tr:"GÃ¶rkemli"}, {en:"Gratify", tr:"Memnun etmek"}, {en:"Grievance", tr:"Åikayet"}, {en:"Grim", "tr":"Gaddar"}, {en:"Grudge", tr:"Kin"}, {en:"Gullible", tr:"Saf"}];
    fixedData["C"][13] = [{en:"Halt", tr:"Durdurmak"}, {en:"Haphazard", tr:"GeliÅŸigÃ¼zel"}, {en:"Harass", tr:"Taciz etmek"}, {en:"Hasten", tr:"HÄ±zlandÄ±rmak"}, {en:"Haughty", tr:"Kibirli"}, {en:"Hazardous", tr:"Tehlikeli"}, {en:"Heir", tr:"MirasÃ§Ä±"}, {en:"Hinder", tr:"Engellemek"}, {en:"Hostile", tr:"DÃ¼ÅŸmanca"}, {en:"Humiliate", tr:"AÅŸaÄŸÄ±lamak"}, {en:"Hypothesis", tr:"VarsayÄ±m"}, {en:"Identical", tr:"Birebir aynÄ±"}, {en:"Idle", tr:"Aylak, boÅŸ"}, {en:"Ignorant", tr:"Cahil"}, {en:"Illicit", tr:"Yasa dÄ±ÅŸÄ±"}, {en:"Illusion", tr:"YanÄ±lsama"}, {en:"Immaculate", tr:"Lekesiz"}, {en:"Imminent", tr:"Eli kulaÄŸÄ±nda"}, {en:"Impartial", tr:"TarafsÄ±z"}, {en:"Impede", tr:"Geciktirmek"}];
    fixedData["C"][14] = [{en:"Imperative", tr:"Zorunlu"}, {en:"Impetus", tr:"Ä°tici gÃ¼Ã§"}, {en:"Implausible", tr:"Akla yatkÄ±n olmayan"}, {en:"Implicit", tr:"Ä°malÄ±"}, {en:"Imply", tr:"Ä°ma etmek"}, {en:"Imposing", tr:"Heybetli"}, {en:"Impromptu", tr:"DoÄŸaÃ§lama"}, {en:"Inadvertent", tr:"Ä°stem dÄ±ÅŸÄ±"}, {en:"Incentive", tr:"TeÅŸvik"}, {en:"Incessant", tr:"AralÄ±ksÄ±z"}, {en:"Incline", tr:"EÄŸilimi olmak"}, {en:"Incoherent", tr:"TutarsÄ±z"}, {en:"Incompatible", tr:"Uyumsuz"}, {en:"Incompetent", tr:"Yetersiz"}, {en:"Inconceivable", tr:"Hayal edilemez"}, {en:"Inconsistent", tr:"Ã‡eliÅŸkili"}, {en:"Incredible", tr:"Ä°nanÄ±lmaz"}, {en:"Indifferent", tr:"KayÄ±tsÄ±z"}, {en:"Indigenous", tr:"Yerli"}, {en:"Indignant", tr:"DargÄ±n, kÄ±rgÄ±n"}];

    // C 15
    fixedData["C"][15] = [
        { "en": "Indispensable", "tr": "VazgeÃ§ilmez, Ã§ok gerekli" },
        { "en": "Induce", "tr": "Sebep olmak, ikna etmek" },
        { "en": "Inevitably", "tr": "KaÃ§Ä±nÄ±lmaz bir ÅŸekilde" },
        { "en": "Infallible", "tr": "Hata yapmaz, yanÄ±lmaz" },
        { "en": "Infer", "tr": "Anlam Ã§Ä±karmak, sonuÃ§ Ã§Ä±karmak" },
        { "en": "Infinite", "tr": "Sonsuz" },
        { "en": "Inflate", "tr": "ÅiÅŸirmek" },
        { "en": "Inflict", "tr": "UÄŸratmak, (ceza vb.) Ã§ektirmek" },
        { "en": "Ingenious", "tr": "Dahice, yaratÄ±cÄ±" },
        { "en": "Inherent", "tr": "DoÄŸuÅŸtan olan, Ã¶zÃ¼nde olan" },
        { "en": "Inhibit", "tr": "Engellemek, kÄ±sÄ±tlamak" },
        { "en": "Initial", "tr": "Ä°lk, baÅŸlangÄ±Ã§taki" },
        { "en": "Innate", "tr": "DoÄŸuÅŸtan gelen (yetenek vb.)" },
        { "en": "Innocuous", "tr": "ZararsÄ±z" },
        { "en": "Innovate", "tr": "Yenilik yapmak" },
        { "en": "Inquisitive", "tr": "MeraklÄ±, araÅŸtÄ±rmacÄ±" },
        { "en": "Insane", "tr": "Deli, Ã§Ä±ldÄ±rmÄ±ÅŸ" },
        { "en": "Inscribe", "tr": "Yazmak, kazÄ±mak (taÅŸa vb.)" },
        { "en": "Insight", "tr": "KavrayÄ±ÅŸ, iÃ§gÃ¶rÃ¼" },
        { "en": "Insignificant", "tr": "Ã–nemsiz" }
    ];

    // C 16 - GÃœNCEL EKLENEN
    fixedData["C"][16] = [
        { "en": "Insolent", "tr": "KÃ¼stah, saygÄ±sÄ±z" },
        { "en": "Inspire", "tr": "Ä°lham vermek" },
        { "en": "Instigate", "tr": "KÄ±ÅŸkÄ±rtmak, baÅŸlatmak" },
        { "en": "Insulate", "tr": "YalÄ±tmak" },
        { "en": "Intact", "tr": "El deÄŸmemiÅŸ, bozulmamÄ±ÅŸ" },
        { "en": "Intangible", "tr": "Manevi, elle tutulamaz" },
        { "en": "Integrity", "tr": "DÃ¼rÃ¼stlÃ¼k, bÃ¼tÃ¼nlÃ¼k" },
        { "en": "Intense", "tr": "YoÄŸun, ÅŸiddetli" },
        { "en": "Intervene", "tr": "MÃ¼dahale etmek" },
        { "en": "Intricate", "tr": "KarmaÅŸÄ±k, girift" },
        { "en": "Intriguing", "tr": "Merak uyandÄ±rÄ±cÄ±" },
        { "en": "Invade", "tr": "Ä°stila etmek" },
        { "en": "Invalid", "tr": "GeÃ§ersiz" },
        { "en": "Invaluable", "tr": "Paha biÃ§ilemez" },
        { "en": "Invariably", "tr": "DeÄŸiÅŸmez ÅŸekilde, daima" },
        { "en": "Inventory", "tr": "Envanter, stok listesi" },
        { "en": "Invert", "tr": "Tersine Ã§evirmek" },
        { "en": "Investigate", "tr": "AraÅŸtÄ±rmak, soruÅŸturmak" },
        { "en": "Invisible", "tr": "GÃ¶rÃ¼nmez" },
        { "en": "Invoke", "tr": "Ã‡aÄŸÄ±rmak, yardÄ±m istemek" }
    ];

    // C 17-20 (Otomatik Taslaklar)
    for(let k=17; k<=20; k++) {
        fixedData["C"][k] = [{en:"Enable", tr:"Olanak saÄŸlamak"}, {en:"Ensure", tr:"SaÄŸlamak"}];
    }

    let vocabularyData = {};
    // SÃœRÃœMÃœ 'v20' YAPTIM KI YENI VERILER GORUNSUN
    const DB_KEY = 'VocabApp_FixedLayout_v20'; 

    function initApp() {
        const stored = localStorage.getItem(DB_KEY);
        if(stored) {
            try {
                vocabularyData = JSON.parse(stored);
                for(let cat in fixedData) {
                    if(!vocabularyData[cat]) vocabularyData[cat] = {};
                    for(let lvl in fixedData[cat]) {
                        if(!vocabularyData[cat][lvl] || vocabularyData[cat][lvl].length === 0) {
                            vocabularyData[cat][lvl] = fixedData[cat][lvl];
                        }
                    }
                }
            } catch(e) {
                vocabularyData = JSON.parse(JSON.stringify(fixedData));
            }
        } else {
            vocabularyData = JSON.parse(JSON.stringify(fixedData));
            saveToMemory();
        }
    }

    function saveToMemory() { localStorage.setItem(DB_KEY, JSON.stringify(vocabularyData)); }

    // --- YEDEKLEME ---
    function exportBackup() {
        const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(vocabularyData));
        const dl = document.createElement('a'); 
        dl.setAttribute("href", dataStr); dl.setAttribute("download", "kelime_yedegim.json");
        document.body.appendChild(dl); dl.click(); dl.remove();
    }
    
    function triggerImport() { document.getElementById('file-input').click(); }
    
    function importBackup(input) {
        const file = input.files[0]; if(!file) return;
        const reader = new FileReader();
        reader.onload = function(e) {
            try { 
                const imported = JSON.parse(e.target.result);
                if(imported && typeof imported === 'object') {
                    vocabularyData = imported; 
                    saveToMemory(); 
                    alert("Yedek BaÅŸarÄ±yla YÃ¼klendi!"); 
                    switchTab('C', null); 
                } else { alert("Dosya formatÄ± hatalÄ±."); }
            } catch(err){ alert("Hata!"); }
            input.value = '';
        }; reader.readAsText(file);
    }

    // --- UYGULAMA MANTIÄI ---
    let activeCategory = 'C';
    let currentQuestions = [];
    let currentStep = 0, correctCount = 0;

    window.onload = function() { 
        initApp(); 
        const cTab = Array.from(document.querySelectorAll('.tab')).find(t => t.innerText.trim() === 'C');
        switchTab('C', cTab); 
    };

    function switchTab(cat, el) {
        if(!el) {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(t => {
                const txt = t.innerText.trim();
                if(txt === cat || (cat === 'ADD' && txt.includes('EKLE'))) el = t;
            });
        }
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        if(el) {
            el.classList.add('active');
            el.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        }
        if(cat === 'ADD') {
            document.getElementById('app-header-title').innerText = "Ekle / Yedekle";
            renderAddScreen();
        } else {
            activeCategory = cat;
            document.getElementById('app-header-title').innerText = cat;
            renderList(cat);
        }
        document.querySelector('.content-area').scrollTop = 0;
    }

    function renderList(cat) {
        const div = document.getElementById('content-container');
        div.innerHTML = "";
        const icons = ["ğŸ›¡ï¸","âœï¸","ğŸ”","ğŸ§ ","ğŸ“š","ğŸš€","ğŸ’","ğŸ”¥"];
        
        if(!vocabularyData[cat]) vocabularyData[cat] = {};

        for(let i=1; i<=20; i++) {
            if(!vocabularyData[cat][i]) vocabularyData[cat][i] = [];
            let count = vocabularyData[cat][i].length;
            let status = count > 0 ? `${count} Kelime` : "BoÅŸ";
            let style = count > 0 ? "" : "opacity:0.6;";
            div.innerHTML += `
                <div class="level-card" onclick="startQuiz(${i})" style="${style}">
                    <div><span class="level-icon">${icons[(i-1)%icons.length]}</span> <span class="level-info">${i}. Seviye</span></div>
                    <div class="level-progress">${status}</div>
                </div>`;
        }
    }

    function renderAddScreen() {
        document.getElementById('content-container').innerHTML = `
            <div class="add-word-container">
                <div style="font-weight:bold; color:#f1c40f; margin-bottom:10px;">Kelime Ekle</div>
                <div style="display:flex; gap:10px; margin-bottom:10px;">
                    <select id="t-cat" class="form-select">
                        <option value="YDS">YDS</option><option value="H">HABER</option>
                        <option value="B2">B2</option><option value="B1">B1</option><option value="C" selected>C</option>
                    </select>
                    <select id="t-lvl" class="form-select">${Array.from({length:20},(_,i)=>`<option value="${i+1}">${i+1}</option>`).join('')}</select>
                </div>
                <textarea id="bulk-txt" class="form-textarea" placeholder="Apple : Elma&#10;Run : KoÅŸmak" rows="5"></textarea>
                <button class="save-btn" onclick="addWords()">Kaydet</button>
            </div>
            <div class="backup-container">
                <div style="font-weight:bold; color:#3498db; margin-bottom:10px;">Yedekleme</div>
                <div style="display:flex; justify-content:space-between; gap:10px;">
                    <button class="backup-btn btn-download" onclick="exportBackup()">Ä°ndir</button>
                    <button class="backup-btn btn-upload" onclick="triggerImport()">YÃ¼kle</button>
                </div>
            </div>`;
    }

    function addWords() {
        const txt = document.getElementById('bulk-txt').value.trim();
        const cat = document.getElementById('t-cat').value;
        const lvl = parseInt(document.getElementById('t-lvl').value);
        if(!txt) { alert("LÃ¼tfen kelime giriniz."); return; }
        
        if(!vocabularyData[cat]) vocabularyData[cat] = {};
        if(!vocabularyData[cat][lvl]) vocabularyData[cat][lvl] = [];

        const lines = txt.split('\n'); let added = 0;
        lines.forEach(line => {
            let parts = line.split(/[:=\t]/);
            if(parts.length >= 2) {
                let en = parts[0].trim(), tr = parts.slice(1).join(' ').trim();
                let exists = vocabularyData[cat][lvl].some(w => w.en.toLowerCase() === en.toLowerCase());
                if(en && tr && !exists) { vocabularyData[cat][lvl].push({en, tr}); added++; }
            }
        });
        if(added > 0) { saveToMemory(); alert(`${added} kelime eklendi!`); document.getElementById('bulk-txt').value = ""; } 
        else { alert("Eklenemedi veya kelimeler zaten mevcut."); }
    }

    function startQuiz(lvl) {
        if(activeCategory === 'ADD') return;
        let words = vocabularyData[activeCategory][lvl];
        if(!words || words.length === 0) { alert("Bu seviye boÅŸ."); return; }
        
        currentQuestions = words.map(w => {
            let pool = [];
            for(let l=1; l<=20; l++) if(vocabularyData[activeCategory][l]) pool.push(...vocabularyData[activeCategory][l].map(x=>x.tr));
            if(pool.length < 10) pool.push("Gitmek", "Bakmak", "KoÅŸmak", "GÃ¶rmek", "Yazmak");
            let opts = [w.tr];
            while(opts.length < 4) { let r = pool[Math.floor(Math.random()*pool.length)]; if(!opts.includes(r)) opts.push(r); }
            return { en: w.en, correct: w.tr, options: opts.sort(()=>0.5-Math.random()) };
        });
        currentQuestions.sort(() => Math.random() - 0.5);
        currentStep = 0; correctCount = 0;
        document.getElementById('quiz-screen').style.display = 'flex';
        renderQuestion();
    }

    function renderQuestion() {
        if(currentStep >= currentQuestions.length) { showResult(); return; }
        let q = currentQuestions[currentStep];
        document.getElementById('target-word').innerText = q.en;
        document.getElementById('progress-text').innerText = `${currentStep+1}/${currentQuestions.length}`;
        document.getElementById('progress-fill').style.width = `${((currentStep+1)/currentQuestions.length)*100}%`;
        
        let html = "";
        q.options.forEach(opt => { 
            let safeOpt = opt.replace(/'/g, "\\'");
            let safeCorrect = q.correct.replace(/'/g, "\\'");
            html += `<button class="option-btn" data-answer="${safeOpt}" onclick="check(this, '${safeOpt}', '${safeCorrect}')">${opt}</button>`; 
        });
        document.getElementById('options-container').innerHTML = html;
    }

    function check(btn, sel, cor) {
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(b => b.disabled = true);
        
        if(sel.trim() === cor.trim()) {
            btn.classList.add('correct'); correctCount++;
            document.getElementById('success-overlay').style.display='flex';
            setTimeout(()=>{ document.getElementById('success-overlay').style.display='none'; next(); }, 600);
        } else {
            btn.classList.add('wrong');
            buttons.forEach(b => { if(b.getAttribute('data-answer') === cor) b.classList.add('correct'); });
            setTimeout(next, 1500);
        }
    }
    
    function next() { currentStep++; renderQuestion(); }
    
    function showResult() {
        document.getElementById('quiz-screen').style.display='none';
        document.getElementById('result-screen').style.display='flex';
        let total = currentQuestions.length || 1;
        document.getElementById('final-score').innerText = `${correctCount}/${total}`;
        let p = (correctCount/total)*100, c = p >= 50 ? '#a2c638' : '#e74c3c';
        document.getElementById('score-circle').style.background = `conic-gradient(${c} 0% ${p}%, #333 ${p}% 100%)`;
    }

    function forceQuitQuiz() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'none';
        renderList(activeCategory);
    }

    function closeResultScreen() { forceQuitQuiz(); }
    function quitQuiz() { if(confirm("Testi sonlandÄ±rmak istiyor musunuz?")) forceQuitQuiz(); }
</script>
</body>
</html>
